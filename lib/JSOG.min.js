!function(n,r){"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?module.exports=r():n.JSOG=r()}(this,function(){"use strict";var n,r,t,e,o,u;return n={},o=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)},e=function(n){return"function"==typeof n.toJSON},u=function(n){return"undefined"==typeof n||null===n},r="__jsogObjectId",t="__jsogObjectDecoded",n.encode=function(n){var i,f,c,a;return a=0,c={},f=function(n){return n[r]||(n[r]=""+a++),n[r]},(i=function(n){var a,d;return d=function(n){var e,o,u,a;if(e=f(n),c[e])return{"@ref":e};u=c[e]={"@id":e};for(o in n)n.hasOwnProperty(o)&&o!==t&&(a=n[o],o!==r&&(u[o]=i(a)));return u},a=function(n){var r;return function(){var t,e,o;for(o=[],t=0,e=n.length;e>t;t++)r=n[t],o.push(i(r));return o}()},u(n)?n:e(n)?n:o(n)?a(n):"object"==typeof n?d(n):n})(n)},n.decode=function(n){var r,e;return e={},(r=function(n){var i,f;return f=function(n){var o,u,i,f,c;if(n[t]===!0)return n;if(i=n["@ref"],null!=i&&(i=i.toString()),null!=i)return e[i];f={},o=n["@id"],null!=o&&(o=o.toString()),o&&(e[o]=f);for(u in n)n.hasOwnProperty(u)&&(c=n[u],"@id"!==u&&(f[u]=r(c)));return f[t]=!0,f},i=function(n){var t;return function(){var e,o,u;for(u=[],e=0,o=n.length;o>e;e++)t=n[e],u.push(r(t));return u}()},u(n)?n:o(n)?i(n):"object"==typeof n?f(n):n})(n)},n.stringify=function(r){return JSON.stringify(n.encode(r))},n.parse=function(r){return n.decode(JSON.parse(r))},n});
//# sourceMappingURL=./lib/JSOG.min.map